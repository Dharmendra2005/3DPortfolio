import { useRef, useEffect } from "react";
import { Canvas } from "@react-three/fiber";
import { OrbitControls } from "@react-three/drei";
import { motion } from "framer-motion";

// Simple icon map for skills (SVG or emoji fallbacks)
const ICONS = {
  React: (
    <svg className="w-10 h-10 text-cyan-400" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="1.5" fill="currentColor" />
      <g
        stroke="currentColor"
        strokeWidth="0.9"
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <ellipse cx="12" cy="12" rx="6" ry="2.2" transform="rotate(30 12 12)" />
        <ellipse
          cx="12"
          cy="12"
          rx="6"
          ry="2.2"
          transform="rotate(-30 12 12)"
        />
        <ellipse cx="12" cy="12" rx="6" ry="2.2" transform="rotate(90 12 12)" />
      </g>
    </svg>
  ),
  Tailwind: (
    <svg className="w-10 h-10 text-sky-400" viewBox="0 0 24 24" fill="none">
      <path d="M3 12c5 0 7-3 12-3v9c-5 0-7 3-12 3V12z" fill="currentColor" />
    </svg>
  ),
  JavaScript: (
    <svg
      className="w-10 h-10 text-blue-500"
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M4 4h16v16H4z" opacity="0.12" />
      <path d="M7 7h10v2H9v4h6v2H9v4H7V7z" />
    </svg>
  ),
  "Node.js": (
    <svg
      className="w-10 h-10 text-green-500"
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M12 2l8 4v8l-8 4-8-4V6l8-4z" opacity="0.12" />
      <path d="M12 6l6 3v6l-6 3-6-3V9l6-3z" />
    </svg>
  ),
  EJS: (
    <svg className="w-10 h-10" viewBox="0 0 512 512" fill="none">
      <path
        fill="#A91E50"
        d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0z"
      />
      <text
        x="50%"
        y="55%"
        dominantBaseline="middle"
        textAnchor="middle"
        fill="#fff"
        fontSize="180"
        fontWeight="bold"
        fontFamily="Arial"
      >
        EJS
      </text>
    </svg>
  ),
  Express: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#fff"
        d="M126.67 98.44c-4.56 1.16-7.38.05-9.91-3.75-5.68-8.51-11.95-16.63-18-24.9-.78-1.07-1.59-2.12-2.6-3.45C89 76 82.89 85.2 76.63 94.22c-2.09 3.03-4.57 4.86-8.59 3.79l17.27-24.44L68.2 49.45c4.6-.45 7.07.89 9.31 5 3.6 6.64 7.88 12.93 12.17 19.93 4.39-7.1 8.53-13.58 12.35-20.27 2.13-3.73 4.58-5.3 8.93-4.55L94.24 72.84l18.07 25.06zM1.33 61.74c.72-3.61 1.2-7.29 2.2-10.83 6-21.43 30.6-30.34 47.5-17.06C60.93 41.64 63.39 52.62 62.9 65H7.1c-.84 22.21 15.15 35.62 35.53 28.78 7.15-2.4 11.36-8 13.47-15 1.07-3.51 2.84-4.06 6.14-3.06-1.69 8.76-5.52 16.08-13.52 20.66-12 6.86-29.13 5.32-39.64-3.2C3.44 88.3.67 81.29 1.33 72.96V61.74zm6.05-.17h49.15c-.34-15.12-10.31-26.48-24.03-26.48-14.86-.03-24.96 11.23-25.12 26.48z"
      />
    </svg>
  ),
  MongoDB: (
    <svg
      className="w-10 h-10 text-emerald-400"
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M12 2l6 4-6 4-6-4 6-4z" />
      <path d="M12 10l6 4-6 8-6-8 6-4z" opacity="0.9" />
    </svg>
  ),
  PostgreSQL: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        d="M93.809 92.112c.785-6.533.55-7.492 5.416-6.433l1.235.108c3.742.17 8.637-.602 11.513-1.938 6.191-2.873 9.861-7.668 3.758-6.409-13.924 2.873-14.881-1.842-14.881-1.842 14.703-21.815 20.849-49.508 15.545-56.287-14.47-18.489-39.517-9.746-39.936-9.52l-.134.025c-2.751-.571-5.83-.912-9.289-.968-6.301-.104-11.082 1.652-14.535 4.41 0 0-44.683-18.409-42.604 23.151.442 8.841 12.672 66.898 27.26 49.362 5.332-6.412 10.483-11.834 10.483-11.834 2.559 1.699 5.622 2.567 8.834 2.255l.249-.212c-.078.796-.044 1.575.099 2.497-3.757 4.199-2.653 4.936-10.166 6.482-7.602 1.566-3.136 4.355-.221 5.084 3.535.884 11.712 2.136 17.238-5.598l-.219.887c1.466 1.174 2.484 7.627 2.308 13.477-.176 5.851-.352 9.862.486 13.008.838 3.146 1.674 10.219 8.799 8.117 5.962-1.758 9.068-6.312 9.476-13.921.291-5.421 1.352-3.818 1.413-8.381l.757-2.29c.868-7.125.046-9.423 5.151-8.351l1.219.105z"
        fill="#336791"
      />
      <path
        d="M66.509 89.967c2.411 3.459 5.744 5.021 9.604 5.021 5.308 0 9.416-4.376 11.466-8.212 1.235-2.312 2.096-5.139 2.096-8.212 0-4.375-1.86-8.212-4.958-10.523-3.097-2.311-7.183-3.467-12.18-3.467h-.414c.414-3.467 1.654-6.392 3.51-8.214 1.86-1.82 4.544-2.771 8.045-2.771 1.238 0 2.476.173 3.508.52v-5.019c-1.238-.347-2.684-.52-4.336-.52-5.413 0-9.623 1.648-12.72 4.897-3.097 3.248-4.648 7.711-4.648 13.424v8.561c0 4.896 1.551 8.905 4.547 11.563z"
        fill="#fff"
      />
      <path
        d="M78.548 35.848c-.149 1.181.321 2.297 1.168 3.045 1.251 1.103 3.011 1.253 4.498.537 2.163-.942 2.879-3.254 2.303-5.479-.487-1.88-1.994-3.18-3.972-3.105-1.868.072-3.689 2.234-3.997 5.002zM45.229 37.676c-.251 1.215.142 2.396.959 3.247 1.208 1.258 2.972 1.544 4.52.944 2.252-.873 3.098-3.155 2.626-5.421-.399-1.916-1.863-3.273-3.854-3.273h-.002c-1.88.007-3.811 2.098-4.249 4.503z"
        fill="#fff"
      />
    </svg>
  ),
  Git: (
    <svg
      className="w-8 h-8 text-orange-500"
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M10 3l11 11-3 3L7 6 10 3zM5 14a2 2 0 11.001-3.999A2 2 0 015 14zm14.5-1.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM14 20a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" />
    </svg>
  ),
  Docker: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#2496ED"
        d="M73.8 50.8h11.3v11.5h5.7c2.6 0 5.3-.5 7.8-1.3 1.2-.4 2.6-1 3.8-1.7-1.6-2.1-2.4-4.7-2.6-7.3-.3-3.5.4-8.1 2.8-10.8l1.2-1.4 1.4 1.1c3.6 2.9 6.5 6.8 7.1 11.4 4.3-1.3 9.3-1 13.1 1.2l1.5.9-.8 1.6c-3.2 6.2-9.9 8.2-16.4 7.8-9.8 24.3-31 35.8-56.8 35.8-13.3 0-25.5-5-32.5-16.8l-.1-.2-1-2.1c-2.4-5.2-3.1-10.9-2.6-16.6l.2-1.7h9.6v-11.5h11.3v-11.4h22.5v-11.5h13.5v22.9zm-31.7 11.5h-11.3v11.5h11.3v-11.5zm0-11.5h-11.3v11.5h11.3v-11.5zm11.4 11.5h-11.3v11.5h11.3v-11.5zm0-11.5h-11.3v11.5h11.3v-11.5zm0-11.4h-11.3v11.5h11.3v-11.4zm11.3 22.9h-11.3v11.5h11.3v-11.5zm0-11.5h-11.3v11.5h11.3v-11.5zm0-11.4h-11.3v11.5h11.3v-11.4zm11.3 22.9h-11.3v11.5h11.3v-11.5zm0-11.5h-11.3v11.5h11.3v-11.5z"
      />
    </svg>
  ),
  GitHub: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <g fill="#ffffff">
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M64 5.103c-33.347 0-60.388 27.035-60.388 60.388 0 26.682 17.303 49.317 41.297 57.303 3.017.56 4.125-1.31 4.125-2.905 0-1.44-.056-6.197-.082-11.243-16.8 3.653-20.345-7.125-20.345-7.125-2.747-6.98-6.705-8.836-6.705-8.836-5.48-3.748.413-3.67.413-3.67 6.063.425 9.257 6.223 9.257 6.223 5.386 9.23 14.127 6.562 17.573 5.02.542-3.903 2.107-6.568 3.834-8.076-13.413-1.525-27.514-6.704-27.514-29.843 0-6.593 2.36-11.98 6.223-16.21-.628-1.52-2.695-7.662.584-15.98 0 0 5.07-1.623 16.61 6.19 4.817-1.34 9.982-2.007 15.115-2.03 5.132.023 10.302.69 15.128 2.03 11.53-7.813 16.59-6.19 16.59-6.19 3.287 8.317 1.22 14.46.593 15.98 3.872 4.23 6.215 9.617 6.215 16.21 0 23.194-14.127 28.3-27.574 29.796 2.167 1.874 4.097 5.55 4.097 11.183 0 8.08-.07 14.583-.07 16.572 0 1.607 1.088 3.49 4.148 2.897 23.98-7.994 41.263-30.622 41.263-57.294C124.388 32.14 97.35 5.104 64 5.104z"
        />
        <path d="M26.484 91.806c-.133.3-.605.39-1.035.185-.44-.196-.685-.605-.543-.906.13-.31.603-.395 1.04-.188.44.197.69.61.537.91zm2.446 2.729c-.287.267-.85.143-1.232-.28-.396-.42-.47-.983-.177-1.254.298-.266.844-.14 1.24.28.394.426.472.984.17 1.255zm2.382 3.477c-.37.258-.976.017-1.35-.52-.37-.538-.37-1.183.01-1.44.373-.258.97-.025 1.35.507.368.545.368 1.19-.01 1.452zm3.261 3.361c-.33.365-1.036.267-1.552-.23-.527-.487-.674-1.18-.343-1.544.336-.366 1.045-.264 1.564.23.527.486.686 1.18.333 1.543zm4.5 1.951c-.147.473-.825.688-1.51.486-.683-.207-1.13-.76-.99-1.238.14-.477.823-.7 1.512-.485.683.206 1.13.756.988 1.237zm4.943.361c.017.498-.563.91-1.28.92-.723.017-1.308-.387-1.315-.877 0-.503.568-.91 1.29-.924.717-.013 1.306.387 1.306.88zm4.598-.782c.086.485-.413.984-1.126 1.117-.7.13-1.35-.172-1.44-.653-.086-.498.422-.997 1.122-1.126.714-.123 1.354.17 1.444.663z" />
      </g>
    </svg>
  ),
  VSCode: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#0065A9"
        d="M95.813 126.001c1.381.476 2.893.534 4.351.156 1.457-.378 2.803-1.165 3.828-2.251l20.77-20.186c2.713-2.636 2.713-6.91 0-9.547l-20.77-20.186c-1.025-1.087-2.371-1.874-3.828-2.252-1.458-.377-2.97-.32-4.35.156l-23.826 8.199 27.825 22.956-27.825 22.957 23.825 8.198z"
      />
      <path
        fill="#007ACC"
        d="M2.238 90.002c-1.399-1.359-2.238-3.241-2.238-5.244v-41.516c0-2.002.839-3.884 2.238-5.243l18.812-18.266 47.262 38.267-47.262 38.269-18.812-18.267z"
      />
      <path
        fill="#1F9CF0"
        d="M95.813 1.999c1.381-.476 2.893-.533 4.351-.156 1.457.378 2.803 1.165 3.828 2.252l20.77 20.186c2.713 2.636 2.713 6.911 0 9.547l-20.77 20.186c-1.025 1.086-2.371 1.873-3.828 2.251-1.458.378-2.97.32-4.35-.156l-23.826-8.198 27.825-22.956-27.825-22.957 23.825-8.199z"
      />
      <path
        fill="#0065A9"
        d="M72.006 102.027l-23.518 19.472c-2.285 1.893-5.636 1.893-7.921 0l-19.517-16.168v-82.662l19.517-16.169c2.285-1.893 5.636-1.893 7.921 0l23.518 19.473v76.054z"
      />
    </svg>
  ),
  "VS Code": (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#0065A9"
        d="M95.813 126.001c1.381.476 2.893.534 4.351.156 1.457-.378 2.803-1.165 3.828-2.251l20.77-20.186c2.713-2.636 2.713-6.91 0-9.547l-20.77-20.186c-1.025-1.087-2.371-1.874-3.828-2.252-1.458-.377-2.97-.32-4.35.156l-23.826 8.199 27.825 22.956-27.825 22.957 23.825 8.198z"
      />
      <path
        fill="#007ACC"
        d="M2.238 90.002c-1.399-1.359-2.238-3.241-2.238-5.244v-41.516c0-2.002.839-3.884 2.238-5.243l18.812-18.266 47.262 38.267-47.262 38.269-18.812-18.267z"
      />
      <path
        fill="#1F9CF0"
        d="M95.813 1.999c1.381-.476 2.893-.533 4.351-.156 1.457.378 2.803 1.165 3.828 2.252l20.77 20.186c2.713 2.636 2.713 6.911 0 9.547l-20.77 20.186c-1.025 1.086-2.371 1.873-3.828 2.251-1.458.378-2.97.32-4.35-.156l-23.826-8.198 27.825-22.956-27.825-22.957 23.825-8.199z"
      />
      <path
        fill="#0065A9"
        d="M72.006 102.027l-23.518 19.472c-2.285 1.893-5.636 1.893-7.921 0l-19.517-16.168v-82.662l19.517-16.169c2.285-1.893 5.636-1.893 7.921 0l23.518 19.473v76.054z"
      />
    </svg>
  ),
  HTML: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#E44D26"
        d="M19.037 113.876L9.032 1.661h109.936l-10.016 112.198-45.019 12.48z"
      />
      <path fill="#F16529" d="M64 116.8l36.378-10.086 8.559-95.878H64z" />
      <path
        fill="#EBEBEB"
        d="M64 52.455H45.788L44.53 38.361H64V24.599H29.489l.33 3.692 3.382 37.927H64zm0 35.743l-.061.017-15.327-4.14-.979-10.975H33.816l1.928 21.609 28.193 7.826.063-.017z"
      />
      <path
        fill="#fff"
        d="M63.952 52.455v13.763h16.947l-1.597 17.849-15.35 4.143v14.319l28.215-7.82.207-2.325 3.234-36.233.335-3.696h-3.708zm0-27.856v13.762h33.244l.276-3.092.628-6.978.329-3.692z"
      />
    </svg>
  ),
  CSS: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#1572B6"
        d="M19.67 26l8.069 90.493 36.206 10.05 36.307-10.063L108.33 26zm0 0"
      />
      <path
        fill="#33A9DC"
        d="M64.001 117.062l29.285-8.121 6.893-77.225H64.001zm0 0"
      />
      <path
        fill="#fff"
        d="M64 66.22h14.738l1.019-11.405H64V43.677h27.929l-.267 2.988-2.737 30.691H64z"
      />
      <path
        fill="#EBEBEB"
        d="M64.067 95.146l-.049.014-12.404-3.35-.794-8.883H39.641l1.561 17.488 22.814 6.333.052-.015z"
      />
      <path
        fill="#fff"
        d="M77.792 76.886L76.45 91.802l-12.422 3.353v11.588l22.833-6.328.168-1.882 1.938-21.647z"
      />
      <path
        fill="#EBEBEB"
        d="M64.039 43.677v11.138H37.136l-.224-2.503-.507-5.646-.267-2.989zM64 66.221v11.138H51.753l-.223-2.503-.508-5.647-.267-2.988z"
      />
    </svg>
  ),
  Bootstrap: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#7952B3"
        d="M9.531 44.844c0-11.656 4.031-17.531 12.094-17.531 6 0 10.219 3.094 12.688 9.281l7.938-3.344c-3.813-9.063-11.063-14.094-20.813-14.094-14.531 0-21.781 9.406-21.781 25.688v38.625c0 16.281 7.25 25.688 21.781 25.688 9.75 0 17-5.031 20.813-14.094l-7.938-3.344c-2.469 6.188-6.688 9.281-12.688 9.281-8.063 0-12.094-5.875-12.094-17.531z"
      />
      <path
        fill="#7952B3"
        d="M75.813 19.344h-8.719v89.313h8.719v-33.375h13.219c14.344 0 21.938-7.125 21.938-20.719v-13.5c0-13.594-7.594-21.719-21.938-21.719zm0 8.188h13.219c8.906 0 13.219 4.688 13.219 13.531v13.5c0 8.844-4.313 12.531-13.219 12.531h-13.219z"
      />
    </svg>
  ),
  "React js": (
    <svg className="w-10 h-10 text-cyan-400" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="1.5" fill="currentColor" />
      <g
        stroke="currentColor"
        strokeWidth="0.9"
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <ellipse cx="12" cy="12" rx="6" ry="2.2" transform="rotate(30 12 12)" />
        <ellipse
          cx="12"
          cy="12"
          rx="6"
          ry="2.2"
          transform="rotate(-30 12 12)"
        />
        <ellipse cx="12" cy="12" rx="6" ry="2.2" transform="rotate(90 12 12)" />
      </g>
    </svg>
  ),
  Redis: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#A41E11"
        d="M121.8 93.1c-5.7 3.2-35.9 15.2-42.5 18.7-6.6 3.4-10.3 3.4-15.3.8-5-2.5-35.8-15.2-42-18.5-3.1-1.6-4.7-3.1-4.7-4.5V80l47.1-10.5 46.9 10.7v8.5c0 1.6-1.5 3.1-4.7 4.7l.2.2c5.6-2.9 10.4-6.1 15.1-9.1v9.6zm0-17.8c-5.7 3.2-35.9 15.2-42.5 18.7-6.6 3.4-10.3 3.4-15.3.8-5-2.5-35.8-15.2-42-18.5-3.1-1.6-4.7-3.1-4.7-4.5v-8.6l47.1-10.5 46.9 10.7v8.5c0 1.6-1.5 3.1-4.7 4.7l.2.2c5.6-2.9 10.4-6.1 15.1-9.1v9.6zm0-17.8c-5.7 3.2-35.9 15.2-42.5 18.7-6.6 3.4-10.3 3.4-15.3.8-5-2.5-35.8-15.2-42-18.5-3.1-1.6-4.7-3.1-4.7-4.5v-8.6l47.1-10.5 46.9 10.7v8.5c0 1.6-1.5 3.1-4.7 4.7l.2.2c5.6-2.9 10.4-6.1 15.1-9.1v9.6z"
      />
      <path
        fill="#D82C20"
        d="M121.8 37.5c-5.7 3.2-35.9 15.2-42.5 18.7-6.6 3.4-10.3 3.4-15.3.8-5-2.5-35.8-15.2-42-18.5-6.2-3.3-6.2-8.7 0-12.1 6.2-3.3 36.9-15.9 42-18.5 5-2.5 8.8-2.5 15.3.8 6.6 3.4 36.8 15.4 42.5 18.7 5.8 3.3 5.8 8.7 0 12.1z"
      />
      <path
        fill="#fff"
        d="M80.4 39.5l-15.7-3.8-11.3 7.2-.2-7.8-13.4 3.8v5.4l13.4-3.8.2 8.1 11.3-7.2 15.7 3.8zm11.1-9.5l-5.6 9.2-5.5-9.2H75l8.9 14.5-8.9 14.5h5.4l5.5-9.2 5.6 9.2h5.4l-8.9-14.5 8.9-14.5z"
      />
    </svg>
  ),
  Prisma: (
    <svg className="w-10 h-10" viewBox="0 0 128 128">
      <path
        fill="#0C344B"
        d="M120.8 82.4L75.4 3.3c-2.5-4.3-7.3-5.7-11.5-3.2-1.4.8-2.6 2-3.4 3.4L13.2 92.1c-2.5 4.3-1 9.8 3.3 12.3 1.4.8 3 1.2 4.6 1.2h83.7c5 0 9-4 9-9 0-1.7-.5-3.3-1.3-4.7l-1.3-2.2-15.4-26.9 24 41.8c.5.9.8 1.9.8 2.9 0 3.3-2.7 6-6 6H21.1c-1.1 0-2.1-.3-3-.9-2.8-1.6-3.8-5.2-2.2-8l47.3-88.6c.5-.9 1.3-1.7 2.2-2.2 2.8-1.6 6.4-.7 8 2.2l44.3 77.3c1.6 2.8.7 6.4-2.2 8-.9.5-1.9.8-3 .8h-31c5 0 9-4 9-9 0-1.7-.5-3.3-1.3-4.7L73.5 46.5l17.2 30 14.6 25.4 10.5 18.3c2.5 4.3 1 9.8-3.3 12.3-1.4.8-3 1.2-4.6 1.2H21.1c-5 0-9-4-9-9 0-1.7.5-3.3 1.3-4.7z"
      />
      <path
        fill="#fff"
        d="M77.4 37.3L60.2 9.7c-1.2-2-3.3-3.2-5.6-3.2-2.3 0-4.4 1.2-5.6 3.2L24.6 56.5l-.1.2c-.1.2-.3.5-.4.7-.3.5-.5 1-.6 1.5 0 .2-.1.3-.1.5 0 .2-.1.4-.1.6v.8c0 3.7 3 6.7 6.7 6.7h56.9c3.7 0 6.7-3 6.7-6.7v-.8c0-.2 0-.4-.1-.6 0-.2-.1-.3-.1-.5-.2-.5-.3-1-.6-1.5-.1-.3-.2-.5-.4-.7l-.1-.2-15.9-19.8z"
      />
    </svg>
  ),
};
import * as THREE from "three";

function SkillSphere({ name, color, position }) {
  const meshRef = useRef();

  useEffect(() => {
    if (!meshRef.current) return;

    const rotateSpeed = Math.random() * 0.01 + 0.005;
    const animate = () => {
      if (meshRef.current) {
        meshRef.current.rotation.x += rotateSpeed;
        meshRef.current.rotation.y += rotateSpeed;
      }
      requestAnimationFrame(animate);
    };
    animate();
  }, []);

  return (
    <group position={position}>
      <mesh ref={meshRef}>
        <icosahedronGeometry args={[1.2, 5]} />
        <meshPhongMaterial
          color={color}
          emissive={color}
          emissiveIntensity={0.4}
          shininess={100}
          wireframe={false}
        />
      </mesh>
      <mesh position={[0, 0, 0]} scale={1.3}>
        <icosahedronGeometry args={[1.2, 5]} />
        <meshBasicMaterial color={color} wireframe transparent opacity={0.15} />
      </mesh>
    </group>
  );
}

function SkillsScene({ skills }) {
  return (
    <Canvas camera={{ position: [0, 0, 8], fov: 75 }}>
      <ambientLight intensity={0.6} />
      <pointLight position={[10, 10, 10]} intensity={1} color="#fff" />
      <pointLight position={[-10, -10, -10]} intensity={0.5} color="#8b5cf6" />

      {skills.map((skill, i) => (
        <SkillSphere
          key={i}
          name={skill.name}
          color={skill.color}
          position={[
            Math.cos((i / skills.length) * Math.PI * 2) * 3,
            Math.sin((i / skills.length) * Math.PI * 2) * 3,
            0,
          ]}
        />
      ))}

      <OrbitControls
        autoRotate
        autoRotateSpeed={2}
        enableZoom={false}
        enablePan={false}
      />
    </Canvas>
  );
}

const skillCategories = [
  {
    title: "Frontend",
    skills: [
      { name: "HTML", color: "#e34c26" },
      { name: "CSS", color: "#264de4" },
      { name: "JavaScript", color: "#f7df1e" },
      { name: "React js", color: "#06b6d4" },
      { name: "Bootstrap", color: "#ffffff" },
      { name: "Tailwind", color: "#0891b2" },
    ],
  },
  {
    title: "Backend",
    skills: [
      { name: "Node.js", color: "#68a063" },
      { name: "EJS", color: "#3776ab" },
      { name: "Express", color: "#000000" },
      { name: "Redis", color: "#3178c6" },
      { name: "Prisma", color: "#3178c6" },
      { name: "MongoDB", color: "#13aa52" },
      { name: "PostgreSQL", color: "#c2aa40" },
    ],
  },
  {
    title: "Tools & Others",
    skills: [
      { name: "Git", color: "#f1502f" },
      { name: "GitHub", color: "#96a7b4" },
      { name: "Docker", color: "#2496ed" },
      { name: "VS Code", color: "#8b5cf6" },
    ],
  },
];

export function Skills() {
  return (
    <section className="min-h-screen bg-gradient-to-b from-[#0f0f1e] to-[#1a1a2e] py-20 px-4">
      <div className="max-w-6xl mx-auto">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8 }}
          viewport={{ once: true }}
          className="mb-20"
        >
          <h2 className="text-5xl md:text-6xl font-bold font-poppins mb-4">
            <span className="gradient-text">Skills & Expertise</span>
          </h2>
          <div className="w-20 h-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"></div>
        </motion.div>

        <div className="space-y-20">
          {skillCategories.map((category, idx) => (
            <motion.div
              key={idx}
              initial={{ opacity: 0, y: 40 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.8, delay: idx * 0.2 }}
              viewport={{ once: true }}
            >
              <h3 className="text-3xl font-bold mb-12 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">
                {category.title}
              </h3>

              <div className="rounded-2xl glass-effect p-6">
                <div className="grid grid-cols-3 sm:grid-cols-6 md:grid-cols-8 gap-6 items-center justify-center">
                  {category.skills.map((skill, i) => (
                    <motion.div
                      key={i}
                      whileHover={{ scale: 1.06 }}
                      className="flex flex-col items-center gap-3 p-4 rounded-lg bg-white/3 hover:bg-white/8 transition-all"
                    >
                      <div className="icon w-12 h-12 flex items-center justify-center">
                        {ICONS[skill.name] || (
                          <span className="text-gray-200">{skill.name}</span>
                        )}
                      </div>
                      <p className="text-sm font-medium text-gray-200">
                        {skill.name}
                      </p>
                    </motion.div>
                  ))}
                </div>
              </div>
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}

export default Skills;
